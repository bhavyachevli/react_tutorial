{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'../Header';import Footer from'../Footer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Admin=()=>{const[contacts,setContacts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchContacts();},[]);const fetchContacts=async()=>{try{const response=await fetch('http://127.0.0.1:5000/api/contact');const result=await response.json();if(result.success){setContacts(result.data);}else{setError(result.error);}}catch(err){setError('Failed to fetch contacts');}finally{setLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleString();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{style:{marginTop:'80px',padding:'20px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"Contact Messages Admin\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading contacts...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total Messages: \",contacts.length]})}),contacts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",role:\"alert\",children:\"No contact messages found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.map(contact=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact.id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[contact.first_name,\" \",contact.last_name]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(contact.email),children:contact.email})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'300px',wordWrap:'break-word'},children:contact.message})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(contact.created_at)})]},contact.id))})]})})]})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","contacts","setContacts","loading","setLoading","error","setError","fetchContacts","response","fetch","result","json","success","data","err","formatDate","dateString","Date","toLocaleString","children","style","marginTop","padding","className","role","length","map","contact","id","first_name","last_name","href","concat","email","maxWidth","wordWrap","message","created_at"],"sources":["D:/bhavya study/course/react_lang/react_tutorial/src/Admin/Admin.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from '../Header';\r\nimport Footer from '../Footer';\r\n\r\nconst Admin = () => {\r\n    const [contacts, setContacts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchContacts();\r\n    }, []);\r\n\r\n    const fetchContacts = async () => {\r\n        try {\r\n            const response = await fetch('http://127.0.0.1:5000/api/contact');\r\n            const result = await response.json();\r\n            \r\n            if (result.success) {\r\n                setContacts(result.data);\r\n            } else {\r\n                setError(result.error);\r\n            }\r\n        } catch (err) {\r\n            setError('Failed to fetch contacts');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleString();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <main style={{ marginTop: '80px', padding: '20px' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <h1 className=\"mb-4\">Contact Messages Admin</h1>\r\n                            \r\n                            {loading && <p>Loading contacts...</p>}\r\n                            \r\n                            {error && (\r\n                                <div className=\"alert alert-danger\" role=\"alert\">\r\n                                    {error}\r\n                                </div>\r\n                            )}\r\n                            \r\n                            {!loading && !error && (\r\n                                <>\r\n                                    <p className=\"mb-4\">\r\n                                        <strong>Total Messages: {contacts.length}</strong>\r\n                                    </p>\r\n                                    \r\n                                    {contacts.length === 0 ? (\r\n                                        <div className=\"alert alert-info\" role=\"alert\">\r\n                                            No contact messages found.\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"table-responsive\">\r\n                                            <table className=\"table table-striped table-hover\">\r\n                                                <thead className=\"table-dark\">\r\n                                                    <tr>\r\n                                                        <th>ID</th>\r\n                                                        <th>Name</th>\r\n                                                        <th>Email</th>\r\n                                                        <th>Message</th>\r\n                                                        <th>Date</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {contacts.map((contact) => (\r\n                                                        <tr key={contact.id}>\r\n                                                            <td>{contact.id}</td>\r\n                                                            <td>\r\n                                                                <strong>\r\n                                                                    {contact.first_name} {contact.last_name}\r\n                                                                </strong>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <a href={`mailto:${contact.email}`}>\r\n                                                                    {contact.email}\r\n                                                                </a>\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <div style={{ maxWidth: '300px', wordWrap: 'break-word' }}>\r\n                                                                    {contact.message}\r\n                                                                </div>\r\n                                                            </td>\r\n                                                            <td>{formatDate(contact.created_at)}</td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n            <Footer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}